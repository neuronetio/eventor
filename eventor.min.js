!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),pathToRegexp=__webpack_require__(1),generateuid=__webpack_require__(3),Eventor=function(){function copyArray(source,array){return array=source.slice()}function pushArray(source,array){var index=-1,length=source.length;array||(array=Array(length));for(var last=array.length;++index<length;)array[last]=source[index],last++;return array}function pushObjAsArray(source,array){array||(array=Array(source.length));var last=array.length;for(var item in source)array[last]=source[item],last++;return array}function Eventor(opts){function generateEventId(){return root.unique()}var root={};opts=opts||{};var sharedData={lastId:0};return opts._shared=sharedData,"undefined"!=typeof opts.promise?root.promise=opts.promise:root.promise=Promise,"undefined"==typeof opts.timeout&&(opts.timeout=6e4),root.timeout=opts.timeout,opts.root=root,root._useBeforeAll=new EventorBasic(opts),root._useBefore=new EventorBasic(opts),root._normal=new EventorBasic(opts),root._useAfter=new EventorBasic(opts),root._useAfterAll=new EventorBasic(opts),"undefined"==typeof opts.unique?root.unique=generateuid:root.unique=opts.unique,root.on=function(){for(var _len5=arguments.length,args=Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return root._normal.on.apply(root._normal,args)},root.removeListener=root.off=function(listenerFn){var result=0;return result+=root._useBeforeAll.removeListener.apply(root._useBeforeAll,[listenerFn]),result+=root._useBefore.removeListener.apply(root._useBefore,[listenerFn]),result+=root._normal.removeListener.apply(root._normal,[listenerFn]),result+=root._useAfter.removeListener.apply(root._useAfter,[listenerFn]),result+=root._useAfterAll.removeListener.apply(root._useAfterAll,[listenerFn])},root.useBefore=function(){for(var _len6=arguments.length,args=Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return root._useBefore.on.apply(root._useBefore,args)},root.useAfter=function(){for(var _len7=arguments.length,args=Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return root._useAfter.on.apply(root._useAfter,args)},root.useBeforeAll=function(){for(var _len8=arguments.length,args=Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return root._useBeforeAll.on.apply(root._useBeforeAll,args)},root.useAfterAll=function(){for(var _len9=arguments.length,args=Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return root._useAfterAll.on.apply(root._useAfterAll,args)},root.emit=function(){function normal(input){var useBeforeParsed=Object.assign({},useBeforeAllParsed);useBeforeParsed.data=input,useBeforeParsed.event={eventId:eventId,type:"emit",eventName:useBeforeParsed.eventName,nameSpace:useBeforeParsed.nameSpace,isUseBefore:!0,isUseAfter:!1,isUseBeforeAll:!1,isUseAfterAll:!1};var normalParsed=Object.assign({},useBeforeParsed);normalParsed.data=input,normalParsed.event={eventId:eventId,type:"emit",eventName:normalParsed.eventName,nameSpace:normalParsed.nameSpace,isUseBefore:!1,isUseAfter:!1,isUseBeforeAll:!1,isUseAfterAll:!1};var useAfterParsed=Object.assign({},useBeforeParsed);useAfterParsed.data=void 0,useAfterParsed.event={eventId:eventId,type:"emit",eventName:useAfterParsed.eventName,nameSpace:useAfterParsed.nameSpace,isUseBefore:!1,isUseAfter:!0,isUseBeforeAll:!1,isUseAfterAll:!1};var inlineOn={_before:root._useBefore,beforeParsed:useBeforeParsed,_after:root._useAfter,afterParsed:useAfterParsed},p=void 0;p=root._normal._emit(normalParsed,inlineOn);var afterAllListeners=void 0;return afterAllListeners="undefined"!=typeof nameSpace?root._useAfterAll.listeners(nameSpace,eventName):root._useAfterAll.listeners(eventName),afterAllListeners.length>0&&(p=p.then(function(results){var useAfterParsed=Object.assign({},useBeforeParsed);return useAfterParsed.data=results,useAfterParsed.event={eventId:eventId,type:"emit",eventName:useAfterParsed.eventName,nameSpace:useAfterParsed.nameSpace,isUseBefore:!1,isUseAfter:!1,isUseBeforeAll:!1,isUseAfterAll:!0},root._useAfterAll._cascade(useAfterParsed)})),p}for(var _len10=arguments.length,args=Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];var timeoutObj={arguments:args,type:"emit",error:new Error("timeout")},finished=setTimeout(function(){root.emit("timeout",timeoutObj)},root.timeout),useBeforeAllParsed=root._normal._parseArguments(args),eventName=useBeforeAllParsed.eventName,nameSpace=useBeforeAllParsed.nameSpace,eventId=generateEventId();useBeforeAllParsed.event={eventId:eventId,type:"emit",eventName:useBeforeAllParsed.eventName,nameSpace:useBeforeAllParsed.nameSpace,isUseBefore:!1,isUseAfter:!1,isUseBeforeAll:!0,isUseAfterAll:!1};var result=root._useBeforeAll._cascade(useBeforeAllParsed).then(normal).then(function(results){return clearTimeout(finished),results});return result},root.cascade=function(){function afterAll(input){var useAfterParsed=Object.assign({},useBeforeAllParsed);return useAfterParsed.data=input,useAfterParsed.event={eventId:eventId,type:"cascade",eventName:useAfterParsed.eventName,nameSpace:useAfterParsed.nameSpace,isUseBeforeAll:!1,isUseBefore:!1,isUseAfter:!1,isUseAfterAll:!0},root._useAfterAll._cascade(useAfterParsed)}for(var _len11=arguments.length,args=Array(_len11),_key11=0;_key11<_len11;_key11++)args[_key11]=arguments[_key11];var timeoutObj={arguments:args,type:"cascade",error:new Error("timeout")},finished=setTimeout(function(){root.emit("timeout",timeoutObj)},root.timeout),useBeforeAllParsed=root._normal._parseArguments(args),nameSpace=useBeforeAllParsed.nameSpace,eventName=useBeforeAllParsed.eventName,eventId=generateEventId();useBeforeAllParsed.event={eventId:eventId,type:"cascade",eventName:useBeforeAllParsed.eventName,nameSpace:useBeforeAllParsed.nameSpace,isUseBefore:!1,isUseAfter:!1,isUseBeforeAll:!0,isUseAfterAll:!1};var useBeforeParsed=Object.assign({},useBeforeAllParsed);useBeforeParsed.event={eventId:eventId,type:"cascade",eventName:useBeforeParsed.eventName,nameSpace:useBeforeParsed.nameSpace,isUseBefore:!0,isUseAfter:!1,isUseBeforeAll:!1,isUseAfterAll:!1};var normalParsed=Object.assign({},useBeforeAllParsed);normalParsed.event={eventId:eventId,type:"cascade",eventName:normalParsed.eventName,nameSpace:normalParsed.nameSpace,isUseBeforeAll:!1,isUseBefore:!1,isUseAfter:!1,isUseAfterAll:!1};var useAfterParsed=Object.assign({},useBeforeAllParsed);useAfterParsed.event={eventId:eventId,type:"cascade",eventName:useAfterParsed.eventName,nameSpace:useAfterParsed.nameSpace,isUseBeforeAll:!1,isUseBefore:!1,isUseAfter:!0,isUseAfterAll:!1};var normalListeners=void 0;normalListeners=nameSpace?root.listeners(nameSpace,eventName):root.listeners(eventName);var p=void 0;p=root._useBeforeAll._cascade(useBeforeAllParsed);var inlineOn={_before:root._useBefore,beforeParsed:useBeforeParsed,_after:root._useAfter,afterParsed:useAfterParsed};return p=p.then(function(result){return normalParsed.data=result,root._normal._cascade(normalParsed,inlineOn)}),p=p.then(afterAll),p.then(function(result){return clearTimeout(finished),result})},root.listeners=function(){for(var _len12=arguments.length,args=Array(_len12),_key12=0;_key12<_len12;_key12++)args[_key12]=arguments[_key12];return root._normal.listeners.apply(root._normal,args)},root.allListeners=function(){for(var _len13=arguments.length,args=Array(_len13),_key13=0;_key13<_len13;_key13++)args[_key13]=arguments[_key13];return[].concat(_toConsumableArray(root._useBeforeAll.listeners.apply(root._useBeforeAll,args)),_toConsumableArray(root._useBefore.listeners.apply(root._useBefore,args)),_toConsumableArray(root._normal.listeners.apply(root._normal,args)),_toConsumableArray(root._useAfter.listeners.apply(root._useAfter,args)),_toConsumableArray(root._useAfterAll.listeners.apply(root._useAfterAll,args)))},root.getListenersFromNamespace=function(){for(var _len14=arguments.length,args=Array(_len14),_key14=0;_key14<_len14;_key14++)args[_key14]=arguments[_key14];return root._normal.getListenersFromNamespace.apply(root._normal,args)},root.getAllListenersFromNamespace=function(){for(var _len15=arguments.length,args=Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];return[].concat(_toConsumableArray(root._useBeforeAll.getListenersFromNamespace.apply(root._useBeforeAll,args)),_toConsumableArray(root._useBefore.getListenersFromNamespace.apply(root._useBefore,args)),_toConsumableArray(root._normal.getListenersFromNamespace.apply(root._normal,args)),_toConsumableArray(root._useAfter.getListenersFromNamespace.apply(root._useAfter,args)),_toConsumableArray(root._useAfterAll.getListenersFromNamespace.apply(root._useAfterAll,args)))},root.removeListenersFromNamespace=root.offNamespace=function(){for(var _len16=arguments.length,args=Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];return root._normal.removeListenersFromNamespace.apply(root._normal,args)},root.removeAllListenersFromNamespace=root.offAllNamespace=function(){for(var _len17=arguments.length,args=Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];return root._normal.removeListenersFromNamespace.apply(root._normal,args)+root._useBeforeAll.removeListenersFromNamespace.apply(root._useBeforeAll,args)+root._useBefore.removeListenersFromNamespace.apply(root._useBefore,args)+root._useAfter.removeListenersFromNamespace.apply(root._useAfter,args)+root._useAfterAll.removeListenersFromNamespace.apply(root._useAfterAll,args)},root.wildcardMatchEventName=function(){for(var _len18=arguments.length,args=Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];return root._normal.wildcardMatchEventName.apply(root._normal,args)},root.error=function(e,event){return"undefined"==typeof event?root.emit("error",{error:e}):root.emit("error",{error:e,event:event})},root.constructor=Eventor,root}function EventorConstructor(opts){var eventor=Eventor(opts);return eventor.before=Eventor(opts),eventor.after=eventor,eventor}var EventorBasic=function(){function EventorBasic(opts){if(_classCallCheck(this,EventorBasic),this._listeners={},this._allListeners={},this._wildcardListeners={},this._allWildcardListeners=[],this.delimeter=".",this._shared=opts._shared,"function"==typeof opts.errorEventsErrorHandler?this._errorEventsErrorHandler=opts.errorEventsErrorHandler:this._errorEventsErrorHandler=function(){},this.root=opts.root,this.timeout=opts.timeout||6e4,"undefined"==typeof opts.promise?this.promise=Promise:this.promise=opts.promise,"undefined"==typeof opts.unique?this.unique=generateuid:this.unique=opts.unique,"string"==typeof opts.delimeter){if(opts.delimeter.length>1)throw new Error("Delimeter should be one character long.");this.delimeter=opts.delimeter}}return _createClass(EventorBasic,[{key:"_generateListenerId",value:function(){return++this._shared.lastId}},{key:"_internalError",value:function(error){var errorListeners=this.root.listeners("error");if(0==errorListeners.length)throw error;this._handleError({error:error,event:{}})}},{key:"on",value:function(){for(var eventName="",callback=function(){},nameSpace="",position=void 0,emptyArgs=!1,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(0==args.length&&(emptyArgs=!0),args.forEach(function(arg,index){"undefined"!=typeof arg&&null!=arg||(emptyArgs=index)}),emptyArgs!==!1)return"number"==typeof emptyArgs?this._internalError("Undefined argument at position "+emptyArgs+".\n"+JSON.stringify(args)):this._internalError("It seems like we have no arguments iside 'on' method?\n"+JSON.stringify(args));if("string"!=typeof args[0]&&"RegExp"!=args[0].constructor.name)return this._internalError("First argument should be string or RegExp in Eventor.on method.\n"+JSON.stringify(args));if("string"!=typeof args[0]&&"RegExp"!==args[0].constructor.name||"function"!=typeof args[1]){if("string"!=typeof args[0]||"string"!=typeof args[1]&&"RegExp"!==args[1].constructor.name||"function"!=typeof args[2])return this._internalError("Invalid arguments inside 'on' method.\n"+JSON.stringify(args));if(nameSpace=args[0],eventName=args[1],callback=args[2],"number"==typeof args[3])position=args[3];else if("undefined"!=typeof args[3])return this._internalError("Fourth argument should be a number.\n"+JSON.stringify(args))}else if(eventName=args[0],callback=args[1],"number"==typeof args[2])position=args[2];else if("undefined"!=typeof args[2])return this._internalError("Third argument should be a number.\n"+JSON.stringify(args));var wildcarded="RegExp"==eventName.constructor.name||eventName.indexOf("*")>=0||"%"==eventName.charAt(0),listenerId=this._generateListenerId(),wasPositioned="undefined"!=typeof position,originalPosition=Object.keys(this._allListeners).length;"undefined"==typeof position&&(position=originalPosition);var listener={id:listenerId,eventName:eventName,callback:callback,nameSpace:nameSpace,isWildcard:wildcarded,position:position,originalPosition:originalPosition,wasPositioned:wasPositioned};if(wildcarded){var regstr=eventName.toString();"undefined"==typeof this._wildcardListeners[regstr]&&(this._wildcardListeners[regstr]=[]),this._wildcardListeners[regstr].push(listener),this._allWildcardListeners.push(listener)}else"undefined"==typeof this._listeners[eventName]&&(this._listeners[eventName]=[]),this._listeners[eventName].push(listener);return this._allListeners[listenerId]=listener,listenerId}},{key:"removeListener",value:function(listenerFn){var listenerId=void 0;if("number"==typeof listenerFn)listenerId=listenerFn;else for(var ids=Object.keys(this._allListeners),i=0,len=ids.length;i<len;i++){var _listener=this._allListeners[ids[i]];if(_listener.callback===listenerFn){listenerId=_listener.id;break}}var listener=this._allListeners[listenerId];if("undefined"!=typeof listener){var eventName=listener.eventName;if(listener.isWildcard){var _pos=this._wildcardListeners[eventName].indexOf(listener);this._wildcardListeners[eventName].splice(_pos,1)}else{var pos=this._listeners[eventName].indexOf(listener);this._listeners[eventName].splice(pos,1)}return delete this._allListeners[listenerId],1}return 0}},{key:"off",value:function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return this.removeListener.apply(this,args)}},{key:"removeListenersFromNamespace",value:function(nameSpace){var _this=this,listeners=this.getListenersFromNamespace(nameSpace),ids=[];return listeners.forEach(function(listener){ids.push(listener.id)}),ids.forEach(function(id){_this.removeListener(id)}),ids.length}},{key:"wildcardMatchEventName",value:function(wildcard,eventName){if("string"==typeof wildcard)if("%"==wildcard.charAt(0)){var _ret=function(){wildcard=wildcard.substr(1);var keys=[],wildcardReg=pathToRegexp(wildcard,keys,{}),matches=eventName.match(wildcardReg),params={};return null!=matches&&matches.length>1&&keys.forEach(function(key,index){params[key.name]=decodeURIComponent(matches[index+1])}),{v:{matches:matches,params:params}}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}else{var str=wildcard.replace(/[^a-z0-9]{1}/gi,"\\$&").replace(/\\\*\\\*/gi,".*").replace(/\\\*/gi,"[^\\"+this.delimeter+"]*");str="^"+str+"$",wildcard=new RegExp(str)}return{matches:eventName.match(wildcard),params:{}}}},{key:"_getListenersForEvent",value:function(eventName){var _this2=this;if(this._allWildcardListeners.length>0){var listeners=[];"undefined"!=typeof this._listeners[eventName]&&(listeners=copyArray(this._listeners[eventName]));var wildcarded=this._allWildcardListeners.filter(function(listener){return listener._tempMatches=_this2.wildcardMatchEventName(listener.eventName,eventName),null!=listener._tempMatches.matches});return pushArray(wildcarded,listeners),listeners}return"undefined"!=typeof this._listeners[eventName]?this._listeners[eventName]:[]}},{key:"_getListenersForEventFromArray",value:function(eventName,listeners){var _this3=this,filtered=[];return filtered=listeners.filter(function(listener){return listener.isWildcard?(listener._tempMatches=_this3.wildcardMatchEventName(listener.eventName,eventName),null!=listener._tempMatches.matches):listener.eventName===eventName})}},{key:"_sortListeners",value:function(listeners){var sorted=listeners.sort(function(a,b){if(a.position===b.position){if(a.wasPositioned&&b.wasPositioned)return b.id-a.id;if(a.wasPositioned||b.wasPositioned)return a.wasPositioned?-1:1;this._internalError("Both listeners have same position, but were not positioned manually (internal error).")}return a.position-b.position});return sorted}},{key:"listeners",value:function listeners(){var listeners=[];return 0===arguments.length?pushObjAsArray(this._allListeners,listeners):1==arguments.length?listeners=this._getListenersForEvent(arguments.length<=0?void 0:arguments[0]):2==arguments.length&&(listeners=this.getListenersFromNamespace(arguments.length<=0?void 0:arguments[0]),listeners=this._getListenersForEventFromArray(arguments.length<=1?void 0:arguments[1],listeners)),this._sortListeners(listeners)}},{key:"getListenersFromNamespace",value:function(nameSpace){var all=this.listeners(),result=all.filter(function(listener){return listener.nameSpace===nameSpace});return result}},{key:"_parseArguments",value:function(args){var result={};return result.eventName="",result.data=void 0,result.nameSpace=void 0,"string"==typeof args[0]&&(2==args.length?(result.eventName=args[0],result.data=args[1]):3==args.length?(result.nameSpace=args[0],result.eventName=args[1],result.data=args[2]):this._internalError("Arguments length is incorrect\n"+JSON.stringify(args)),result)}},{key:"_getListenersFromParsedArguments",value:function(parsedArgs){var listeners=[];return listeners="undefined"==typeof parsedArgs.nameSpace?this.listeners(parsedArgs.eventName):this.listeners(parsedArgs.nameSpace,parsedArgs.eventName)}},{key:"_handleError",value:function(errorObj){var _this4=this,handleItOutsideTry=function(e){_this4._errorEventsErrorHandler(e)};try{this.root.emit("error",errorObj).catch(function(errorObj){})}catch(e){handleItOutsideTry(e)}}},{key:"_emit",value:function(parsedArgs,inlineOn){var _this5=this,listeners=this._getListenersFromParsedArguments(parsedArgs);if(0==listeners.length)return this.promise.all([]);for(var results=[],len=listeners.length,i=-1,_loop=function(){var promise=void 0,promiseBefore=void 0,promiseAfter=void 0;if("undefined"!=typeof inlineOn){var parsed=Object.assign({},inlineOn.beforeParsed);parsed.event=Object.assign({},parsed.event),promiseBefore=inlineOn._before._cascade(parsed)}var listener=listeners[i],eventObj=Object.assign({},parsedArgs.event);eventObj.listener=listener,listener._tempMatches?(eventObj.matches=listener._tempMatches.matches,eventObj.params=listener._tempMatches.params,delete listener._tempMatches):(eventObj.matches=[],eventObj.params={});var normalOn=function(input){var promise=void 0;try{promise=listener.callback(input,eventObj),promise instanceof _this5.promise&&(promise=promise.catch(function(e){var errorObj={error:e,event:eventObj};return"error"!=parsedArgs.eventName?_this5._handleError(errorObj):_this5._errorEventsErrorHandler(e),_this5.promise.reject(e)}))}catch(e){var errorObj={error:e,event:eventObj};"error"!=parsedArgs.eventName?_this5._handleError(errorObj):_this5._errorEventsErrorHandler(e),promise=_this5.promise.reject(e)}return promise};promise="undefined"!=typeof promiseBefore?promiseBefore.then(normalOn):normalOn(parsedArgs.data),"undefined"!=typeof inlineOn?(promise instanceof _this5.promise?promiseAfter=promise.then(function(result){var parsed=Object.assign({},inlineOn.afterParsed);return parsed.data=result,parsed.event=Object.assign({},parsed.event),inlineOn._after._cascade(parsed)}):(inlineOn.afterParsed.data=promise,promiseAfter=inlineOn._after._cascade(inlineOn.afterParsed)),results.push(promiseAfter)):results.push(promise)};++i<len;)_loop();return this.promise.all(results)}},{key:"_validateArgs",value:function(args){var parsedArgs=this._parseArguments(args);return parsedArgs}},{key:"emit",value:function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];var parsedArgs=this._validateArgs(args);return parsedArgs.event={type:"emit",eventName:parsedArgs.eventName,nameSpace:parsedArgs.nameSpace,isUseBeforeAll:parsedArgs.isUseBeforeAll,isUseBefore:parsedArgs.isUseBefore,isUseAfter:parsedArgs.isUseAfter,isUseAfterAll:parsedArgs.isUseAfterAll},this._emit(parsedArgs)}},{key:"_cascade",value:function(parsedArgs,inlineOn){var _this6=this,listeners=this._getListenersFromParsedArguments(parsedArgs),result=this.promise.resolve(parsedArgs.data);if(0==listeners.length)return result;for(var len=listeners.length,i=-1,_loop2=function(){var listener=listeners[i];"undefined"!=typeof inlineOn&&(result=result.then(function(result){var beforeParsed=Object.assign({},inlineOn.beforeParsed);return beforeParsed.data=result,beforeParsed.event=Object.assign({},beforeParsed.event),inlineOn._before._cascade(beforeParsed)})),result=result.then(function(currentData){var eventObj=Object.assign({},parsedArgs.event);eventObj.listener=listener,listener._tempMatches?(eventObj.matches=listener._tempMatches.matches,eventObj.params=listener._tempMatches.params,delete listener._tempMatches):(eventObj.matches=[],eventObj.params={});var promise=void 0;try{promise=listener.callback(currentData,eventObj),promise instanceof _this6.promise&&(promise=promise.catch(function(e){var errorObj={error:e,event:eventObj};return"error"!=parsedArgs.eventName?_this6._handleError(errorObj):_this6._errorEventsErrorHandler(e),_this6.promise.reject(e)}))}catch(e){var errorObj={error:e,event:eventObj};return"error"!=parsedArgs.eventName?_this6._handleError(errorObj):_this6._errorEventsErrorHandler(e),_this6.promise.reject(e)}return promise}),"undefined"!=typeof inlineOn&&(result=result.then(function(result){var afterParsed=Object.assign({},inlineOn.afterParsed);return afterParsed.data=result,afterParsed.event=Object.assign({},afterParsed.event),inlineOn._after._cascade(afterParsed)}))};++i<len;)_loop2();return result}},{key:"cascade",value:function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];var parsedArgs=this._validateArgs(args);return parsedArgs.event={type:"cascade",eventName:parsedArgs.eventName,nameSpace:parsedArgs.nameSpace,isUseBeforeAll:parsedArgs.isUseBeforeAll,isUseBefore:parsedArgs.isUseBefore,isUseAfter:parsedArgs.isUseAfter,isUseAfterAll:parsedArgs.isUseAfterAll},this._cascade(parsedArgs)}}]),EventorBasic}();return EventorConstructor}();"undefined"!=typeof module.exports&&(module.exports=Eventor),"undefined"!=typeof window&&(window.Eventor=Eventor)},function(module,exports,__webpack_require__){"use strict";function parse(str,options){for(var res,tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/";null!=(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1];else{var next=str[index],prefix=res[2],name=res[3],capture=res[4],group=res[5],modifier=res[6],asterisk=res[7];path&&(tokens.push(path),path="");var partial=null!=prefix&&null!=next&&next!==prefix,repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,delimiter=res[2]||defaultDelimiter,pattern=capture||group;tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,partial:partial,asterisk:!!asterisk,pattern:pattern?escapeGroup(pattern):asterisk?".*":"[^"+escapeString(delimiter)+"]+?"})}}return index<str.length&&(path+=str.substr(index)),path&&tokens.push(path),tokens}function compile(str,options){return tokensToFunction(parse(str,options))}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"===_typeof(tokens[i])&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$"));return function(obj,opts){for(var path="",data=obj||{},options=opts||{},encode=options.pretty?encodeURIComponentPretty:encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var segment,value=data[token.name];if(null==value){if(token.optional){token.partial&&(path+=token.prefix);continue}throw new TypeError('Expected "'+token.name+'" to be defined')}if(isarray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`");if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j]),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`");path+=(0===j?token.prefix:token.delimiter)+segment}}else{if(segment=token.asterisk?encodeAsterisk(value):encode(value),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){return re.keys=keys,re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}function tokensToRegExp(tokens,keys,options){isarray(keys)||(options=keys||options,keys=[]),options=options||{};for(var strict=options.strict,end=options.end!==!1,route="",i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token);else{var prefix=escapeString(token.prefix),capture="(?:"+token.pattern+")";keys.push(token),token.repeat&&(capture+="(?:"+prefix+capture+")*"),capture=token.optional?token.partial?prefix+"("+capture+")?":"(?:"+prefix+"("+capture+"))?":prefix+"("+capture+")",route+=capture}}var delimiter=escapeString(options.delimiter||"/"),endsWithDelimiter=route.slice(-delimiter.length)===delimiter;return strict||(route=(endsWithDelimiter?route.slice(0,-delimiter.length):route)+"(?:"+delimiter+"(?=$))?"),route+=end?"$":strict&&endsWithDelimiter?"":"(?="+delimiter+"|$)",attachKeys(new RegExp("^"+route,flags(options)),keys)}function pathToRegexp(path,keys,options){return isarray(keys)||(options=keys||options,keys=[]),options=options||{},path instanceof RegExp?regexpToRegexp(path,keys):isarray(path)?arrayToRegexp(path,keys,options):stringToRegexp(path,keys,options)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isarray=__webpack_require__(2);module.exports=pathToRegexp,module.exports.parse=parse,module.exports.compile=compile,module.exports.tokensToFunction=tokensToFunction,module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(module,exports){"use strict";module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports,__webpack_require__){(function(process){"use strict";var generateuid=function(){function random(count){if(isNode)return nodeRandom(count);var crypto=window.crypto||window.msCrypto;if(!crypto)throw new Error("Your browser does not support window.crypto.");return browserRandom(count)}function nodeRandom(count){var buf=crypto.randomBytes(count);return[].slice.call(buf)}function browserRandom(count){var nativeArr=new Uint8Array(count),crypto=window.crypto||window.msCrypto;return crypto.getRandomValues(nativeArr),[].slice.call(nativeArr)}function pad(num,size){var s="000000000"+num;return s.substr(s.length-size)}function nodePrint(){var os=__webpack_require__(6),padding=2,pid=pad(process.pid.toString(36),padding),hostname=os.hostname(),length=hostname.length,hostId=pad(hostname.split("").reduce(function(prev,char){return+prev+char.charCodeAt(0)},+length+36).toString(36),padding);return pid+hostId}function browserPrint(){var i,count=0;for(i in window)count++;var globalCount=count.toString(36);return pad((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+globalCount,4)}function randomBlock(cryptoBytes){if(cryptoBytes){var randomNrs=random(4),r1=randomNrs[0].toString(16),r2=randomNrs[1].toString(16),r3=randomNrs[2].toString(16),r4=randomNrs[3].toString(16);return r1+r2+r3+r4}var rand=Math.floor(Math.random()*Math.pow(256,4)).toString(16);return pad(rand,8)}function safeCounter(){return c=c<discreteValues?c:0,c++,c-1}function _uid(){var cryptoBytes=arguments.length>0&&void 0!==arguments[0]&&arguments[0],now=Date.now(),timestamp=now,random=randomBlock(cryptoBytes)+randomBlock(cryptoBytes),counter=pad(safeCounter().toString(16),4);return timestamp+"-"+random+"-"+fingerprint+"-"+counter}var isNode="undefined"!=typeof process&&"number"==typeof process.pid&&"undefined"==typeof window;if(isNode)var crypto=__webpack_require__(5);var fingerprint=isNode?nodePrint():browserPrint(),c=0,discreteValues=Math.pow(256,2);return _uid}();"undefined"!=typeof module.exports&&(module.exports=generateuid)}).call(exports,__webpack_require__(4))},function(module,exports){"use strict";function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,
setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports){},function(module,exports){"use strict";exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n"}]);